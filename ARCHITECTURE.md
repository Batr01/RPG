# üèõ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏ –¥–∏–∑–∞–π–Ω-—Ä–µ—à–µ–Ω–∏—è–º –ø—Ä–æ–µ–∫—Ç–∞.

## üìê –û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

–ü—Ä–æ–µ–∫—Ç —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º **SOLID** –∏ **Clean Code**:

1. **Single Responsibility Principle (SRP)** - –∫–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ–¥–Ω—É –∑–∞–¥–∞—á—É
2. **Open/Closed Principle (OCP)** - –æ—Ç–∫—Ä—ã—Ç –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, –∑–∞–∫—Ä—ã—Ç –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏
3. **Liskov Substitution Principle (LSP)** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
4. **Interface Segregation Principle (ISP)** - –Ω–µ–±–æ–ª—å—à–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
5. **Dependency Inversion Principle (DIP)** - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π

## üóÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
RPG/
‚îÇ
‚îú‚îÄ‚îÄ Assets/
‚îÇ   ‚îú‚îÄ‚îÄ Scripts/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Core/              # –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ IMovable.cs          # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–≤–∏–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ IAttackable.cs       # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞—Ç–∞–∫–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ IDamageable.cs       # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É—Ä–æ–Ω–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ GameConstants.cs     # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏–≥—Ä—ã
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Player/            # –°–∏—Å—Ç–µ–º–∞ –∏–≥—Ä–æ–∫–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PlayerController.cs         # –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PlayerMovement.cs          # –î–≤–∏–∂–µ–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PlayerAnimationController.cs # –ê–Ω–∏–º–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PlayerCombat.cs            # –ë–æ–π (–≤ Combat/)
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Combat/            # –ë–æ–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PlayerCombat.cs       # –ö–æ–º–±–æ-–∞—Ç–∞–∫–∏
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Input/             # –°–∏—Å—Ç–µ–º–∞ –≤–≤–æ–¥–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ InputManager.cs          # –ú–µ–Ω–µ–¥–∂–µ—Ä –≤–≤–æ–¥–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PlayerInputActions.cs    # –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–ª–∞—Å—Å
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Camera/            # –°–∏—Å—Ç–µ–º–∞ –∫–∞–º–µ—Ä—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PlayerCamera.cs       # Top-down –∫–∞–º–µ—Ä–∞
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ UI/                # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ MobileJoystick.cs      # –î–∂–æ–π—Å—Ç–∏–∫
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ AttackButton.cs        # –ö–Ω–æ–ø–∫–∞ –∞—Ç–∞–∫–∏
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ MobileInputBridge.cs   # –ú–æ—Å—Ç UI-Input
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ Animations/Player/     # –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
‚îÇ   ‚îú‚îÄ‚îÄ Prefabs/               # –ü—Ä–µ—Ñ–∞–±—ã
‚îÇ   ‚îî‚îÄ‚îÄ Settings/              # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Input System
‚îÇ
‚îú‚îÄ‚îÄ SETUP_INSTRUCTIONS.md      # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
‚îú‚îÄ‚îÄ QUICK_START_CHECKLIST.md   # –ß–µ–∫-–ª–∏—Å—Ç
‚îî‚îÄ‚îÄ README.md                  # –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
```

## üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

### 1. –°–∏—Å—Ç–µ–º–∞ –≤–≤–æ–¥–∞ (Input Flow)

```
–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤–≤–æ–¥–∞ (–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞/Touch)
    ‚Üì
Unity Input System
    ‚Üì
PlayerInputActions (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–π –∫–ª–∞—Å—Å)
    ‚Üì
InputManager (Singleton)
    ‚Üì
PlayerController
    ‚Üì
PlayerMovement / PlayerCombat
```

### 2. –°–∏—Å—Ç–µ–º–∞ –¥–≤–∏–∂–µ–Ω–∏—è (Movement Flow)

```
InputManager.GetMovementDirection()
    ‚Üì
PlayerController.HandleMovement()
    ‚Üì
PlayerMovement.Move(direction)
    ‚Üì
CharacterController.Move()
    ‚Üì
PlayerAnimationController.SetSpeed()
```

### 3. –ë–æ–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (Combat Flow)

```
InputManager.AttackPressed
    ‚Üì
PlayerController.HandleAttack()
    ‚Üì
PlayerCombat.Attack()
    ‚Üì
PlayerCombat.ExecuteAttack()
    ‚Üì
PlayerAnimationController.TriggerAttack()
    ‚Üì
Animator (Unity Animation System)
```

### 4. –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–±–æ (Combo Flow)

```
–ü–µ—Ä–≤–∞—è –∞—Ç–∞–∫–∞ (ComboIndex = 0)
    ‚Üì
Animator –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç Attack1
    ‚Üì
–ò–≥—Ä–æ–∫ –Ω–∞–∂–∏–º–∞–µ—Ç –∞—Ç–∞–∫—É –≤ –∫–æ–º–±–æ-–æ–∫–Ω–µ (50-90% –∞–Ω–∏–º–∞—Ü–∏–∏)
    ‚Üì
PlayerCombat —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç QueuedAttack
    ‚Üì
ComboIndex —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è (1)
    ‚Üì
–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è Attack2
    ‚Üì
–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –¥–ª—è Attack3
    ‚Üì
–ü–æ—Å–ª–µ 1 —Å–µ–∫—É–Ω–¥—ã –±–µ–∑ –≤–≤–æ–¥–∞ ‚Üí —Å–±—Ä–æ—Å –∫–æ–º–±–æ
```

## üß© –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### InputManager (Singleton)

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–≤–æ–¥–æ–º

**–ü–∞—Ç—Ç–µ—Ä–Ω—ã**:
- Singleton (–¥–æ—Å—Ç—É–ø –∏–∑ –ª—é–±–æ–≥–æ –º–µ—Å—Ç–∞)
- Observer (–ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è Input System)

**–ú–µ—Ç–æ–¥—ã**:
- `GetMovementDirection()` - –ø–æ–ª—É—á–∏—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è
- `IsMoving()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è
- `AttackPressed` - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –∞—Ç–∞–∫–∏
- `ResetAttackInput()` - —Å–±—Ä–æ—Å –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –≤—Å–µ–≥–æ –≤–≤–æ–¥–∞
- –õ–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ –≤–≤–æ–¥–∞ (–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞/–≥–µ–π–º–ø–∞–¥/touch)
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–¥

### PlayerController (Coordinator)

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**: –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏–≥—Ä–æ–∫–∞

**–ü–∞—Ç—Ç–µ—Ä–Ω—ã**:
- Facade (—É–ø—Ä–æ—â–∞–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞–º–∏)
- Mediator (–ø–æ—Å—Ä–µ–¥–Ω–∏–∫ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**:
- `PlayerMovement` - –¥–≤–∏–∂–µ–Ω–∏–µ
- `PlayerAnimationController` - –∞–Ω–∏–º–∞—Ü–∏–∏
- `PlayerCombat` - –±–æ–π

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- –°–ª–∞–±–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –Ø—Å–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞

### PlayerMovement (IMovable)

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**: –¢–æ–ª—å–∫–æ –¥–≤–∏–∂–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:
- `CharacterController` (Unity)

**–ú–µ—Ç–æ–¥—ã**:
- `Move(Vector2)` - –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å
- `GetCurrentSpeed()` - —Ç–µ–∫—É—â–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
- `GetNormalizedSpeed()` - –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
- –ú–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ Rigidbody –∏–ª–∏ NavMesh
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥–ª—è –≤—Ä–∞–≥–æ–≤

### PlayerCombat (IAttackable)

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**: –ë–æ–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å –∫–æ–º–±–æ

**–°–æ—Å—Ç–æ—è–Ω–∏—è**:
- Idle - –Ω–µ –∞—Ç–∞–∫—É–µ—Ç
- Attacking - –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∞—Ç–∞–∫—É
- Combo Window - –æ–∫–Ω–æ –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –∫–æ–º–±–æ

**–ú–µ—Ö–∞–Ω–∏–∫–∞ –∫–æ–º–±–æ**:
1. –ò–≥—Ä–æ–∫ –Ω–∞–∂–∏–º–∞–µ—Ç –∞—Ç–∞–∫—É ‚Üí –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —É–¥–∞—Ä 1
2. –í –æ–∫–Ω–µ 50-90% –∞–Ω–∏–º–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –Ω–∞–∂–∞—Ç—å —Å–Ω–æ–≤–∞
3. –ê—Ç–∞–∫–∞ —Å—Ç–∞–≤–∏—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å (_hasQueuedAttack)
4. –ü–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –æ–∫–Ω–∞ ‚Üí –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —É–¥–∞—Ä 2
5. –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –¥–ª—è —É–¥–∞—Ä–∞ 3
6. –ß–µ—Ä–µ–∑ 1 —Å–µ–∫ –±–µ–∑ –≤–≤–æ–¥–∞ ‚Üí —Å–±—Ä–æ—Å

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- –ü–ª–∞–≤–Ω—ã–µ –∫–æ–º–±–æ –±–µ–∑ —Ä—ã–≤–∫–æ–≤
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –æ–∫–Ω–∞ –≤–≤–æ–¥–∞
- –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ (–ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ —É–¥–∞—Ä–æ–≤)

### PlayerAnimationController

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Animator

**–ü–∞—Ç—Ç–µ—Ä–Ω—ã**:
- Facade (—Å–∫—Ä—ã–≤–∞–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å Animator)

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ö—ç—à–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (StringToHash)
- –ö—ç—à–∏—Ä—É–µ—Ç —Å—Å—ã–ª–∫–∏

**–ú–µ—Ç–æ–¥—ã**:
- `SetSpeed()` - –ø–∞—Ä–∞–º–µ—Ç—Ä —Å–∫–æ—Ä–æ—Å—Ç–∏
- `TriggerAttack()` - —Ç—Ä–∏–≥–≥–µ—Ä –∞—Ç–∞–∫–∏
- `SetComboIndex()` - –∏–Ω–¥–µ–∫—Å –∫–æ–º–±–æ
- `IsInAttackAnimation()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- –û—Ç–¥–µ–ª—è–µ—Ç –ª–æ–≥–∏–∫—É –æ—Ç –∞–Ω–∏–º–∞—Ü–∏–∏
- –õ–µ–≥–∫–æ –º–µ–Ω—è—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏
- –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã)

### PlayerCamera

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**: –°–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∑–∞ –∏–≥—Ä–æ–∫–æ–º

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- Top-down –≤–∏–¥ (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —É–≥–æ–ª)
- –ü–ª–∞–≤–Ω–æ–µ —Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ (SmoothDamp)
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∑—É–º

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- –ù–µ–∑–∞–≤–∏—Å–∏–º–∞ –æ—Ç –∏–≥—Ä–æ–∫–∞
- –õ–µ–≥–∫–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥ –ª—é–±–æ–π —Å—Ç–∏–ª—å
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞

## üîå –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (Contracts)

### IMovable
```csharp
void Move(Vector2 direction);
float MoveSpeed { get; set; }
bool IsMoving { get; }
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –õ—é–±—ã–µ –¥–≤–∏–∂—É—â–∏–µ—Å—è –æ–±—ä–µ–∫—Ç—ã (–∏–≥—Ä–æ–∫, –≤—Ä–∞–≥–∏, NPC)

### IAttackable
```csharp
void Attack();
bool CanAttack { get; }
bool IsAttacking { get; }
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –õ—é–±—ã–µ –∞—Ç–∞–∫—É—é—â–∏–µ –æ–±—ä–µ–∫—Ç—ã

### IDamageable
```csharp
void TakeDamage(float damage);
float CurrentHealth { get; }
float MaxHealth { get; }
bool IsAlive { get; }
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –õ—é–±—ã–µ –æ–±—ä–µ–∫—Ç—ã —Å –∑–¥–æ—Ä–æ–≤—å–µ–º (–¥–ª—è –±—É–¥—É—â–µ–≥–æ)

## üìä –î–∏–∞–≥—Ä–∞–º–º–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```
                   InputManager (Singleton)
                          ‚Üì
                   PlayerController
                    ‚Üô    ‚Üì    ‚Üò
        PlayerMovement  PlayerCombat  PlayerAnimationController
              ‚Üì              ‚Üì                  ‚Üì
    CharacterController   Animator          Animator
```

## üéØ –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- ‚úÖ –û–¥–∏–Ω –∫–ª–∞—Å—Å = –æ–¥–Ω–∞ –∑–∞–¥–∞—á–∞
- ‚ùå –ù–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å "–±–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã" (God Objects)

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
- ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π
- ‚úÖ –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –º–æ–∫–∞–º–∏
- ‚úÖ –õ–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é

### 3. –ò–∑–±–µ–≥–∞—Ç—å Singleton –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
- ‚úÖ InputManager - –æ–ø—Ä–∞–≤–¥–∞–Ω (–≥–ª–æ–±–∞–ª—å–Ω—ã–π –≤–≤–æ–¥)
- ‚ùå –ù–ï –¥–µ–ª–∞—Ç—å –≤—Å–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã Singleton'–∞–º–∏

### 4. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–¥–∞
- ‚úÖ XML –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤
- ‚úÖ –û–ø–∏—Å–∞–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤ –∏ –∏—Ö –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö

### 5. –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤–º–µ—Å—Ç–æ magic numbers
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `GameConstants.cs`
- ‚ùå –ù–µ —Ö–∞—Ä–¥–∫–æ–¥–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∫–æ–¥–µ

## üîß –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (Enemy)

1. –°–æ–∑–¥–∞—Ç—å `EnemyController` (–∞–Ω–∞–ª–æ–≥ PlayerController)
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `IMovable`, `IAttackable`, `IDamageable`
3. –°–æ–∑–¥–∞—Ç—å `EnemyAI` –¥–ª—è –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞
4. –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
   - `PlayerMovement` ‚Üí `CharacterMovement` (–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å)
   - `PlayerAnimationController` ‚Üí `AnimationController` (–æ–±–æ–±—â–∏—Ç—å)

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∑–¥–æ—Ä–æ–≤—å—è

1. –°–æ–∑–¥–∞—Ç—å `HealthSystem.cs` (—Ä–µ–∞–ª–∏–∑—É–µ—Ç `IDamageable`)
2. –î–æ–±–∞–≤–∏—Ç—å –∫ –∏–≥—Ä–æ–∫—É –∏ –≤—Ä–∞–≥–∞–º
3. –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫ `PlayerCombat` (–Ω–∞–Ω–µ—Å–µ–Ω–∏–µ —É—Ä–æ–Ω–∞)
4. –°–æ–∑–¥–∞—Ç—å UI –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–¥–æ—Ä–æ–≤—å—è

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è

1. –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `IInventory`
2. –°–æ–∑–¥–∞—Ç—å `Inventory.cs` (—Å–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–º–µ—Ç–æ–≤)
3. –°–æ–∑–¥–∞—Ç—å `Item.cs`, `Weapon.cs`, `Consumable.cs`
4. –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫ `PlayerController`
5. –°–æ–∑–¥–∞—Ç—å `InventoryUI.cs`

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –í–∫–ª—é—á–µ–Ω–∏–µ Debug —Ä–µ–∂–∏–º–∞

1. –í `PlayerCombat.cs` –µ—Å—Ç—å –º–µ—Ç–æ–¥ `OnGUI()` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
2. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç: –∫–æ–º–±–æ, —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∞—Ç–∞–∫–∏, —Ç–∞–π–º–µ—Ä—ã
3. –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ Debug builds

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

```csharp
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Debug.Log –¥–ª—è –≤–∞–∂–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
Debug.Log($"Executing attack - Combo: {_currentComboIndex}");
```

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è Gizmos

–í `PlayerCamera.cs` –µ—Å—Ç—å `OnDrawGizmosSelected()` –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≥—Ä–∞–Ω–∏—Ü –∫–∞–º–µ—Ä—ã.

## üìà –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### –¢–µ–∫—É—â–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- –•—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ Animator (StringToHash)
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ Awake()
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ sqrMagnitude –≤–º–µ—Å—Ç–æ magnitude –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ

### –ë—É–¥—É—â–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- Object Pooling –¥–ª—è —á–∞—Å—Ç—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
- LOD –¥–ª—è –º–æ–¥–µ–ª–µ–π
- Occlusion Culling –¥–ª—è –±–æ–ª—å—à–∏—Ö —É—Ä–æ–≤–Ω–µ–π
- Spatial partitioning –¥–ª—è AI

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [SOLID –ø—Ä–∏–Ω—Ü–∏–ø—ã –≤ Unity](https://unity.com/how-to/solid-design-principles)
- [Clean Code –¥–ª—è C#](https://github.com/thangchung/clean-code-dotnet)
- [Unity Input System](https://docs.unity3d.com/Packages/com.unity.inputsystem@1.7/manual/index.html)
- [Animation Best Practices](https://docs.unity3d.com/Manual/AnimationBestPractices.html)

---

**–í–µ—Ä—Å–∏—è**: 1.0
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –Ø–Ω–≤–∞—Ä—å 2026
